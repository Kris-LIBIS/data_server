- name: 'image converter'
  class_name: 'Libis::Format::Converter::ImageConverter'
  description: 'Imagemagick: converts any image format into another'
  input_formats: ['TIFF', 'JPG', 'PNG', 'BMP', 'GIF', 'PDF', 'JP2']
  output_formats: ['TIFF', 'JPG', 'PNG', 'BMP', 'GIF', 'PDF', 'JP2']
  parameters:
    quiet:
      data_type: 'bool'
      default: false
      description: 'suppress output'
    page:
      data_type: 'integer'
      description: 'the page to use for multi-page image formats'
    scale:
      data_type: 'string'
      description: 'minify / magnify the image'
      help: 'value should be a geometry value; see also https://imagemagick.org/script/command-line-options.php#scale'
    resize:
      data_type: 'string'
      description: 'resize the image'
      help: 'value should be a geometry value; see also https://imagemagick.org/script/command-line-options.php#resize'
    quality:
      data_type: 'string'
      description: 'set the image compression level'
      help: 'number from 1 to 100, optionally appended with %;
          see also https://imagemagick.org/script/command-line-options.php#quality'
    dpi:
      data_type: 'string'
      description: 'set the horizontal and vertical resolution of an image for rendering to devices'
      help : 'value is width or widthxheight; see also https://imagemagick.org/script/command-line-options.php#density'
    resample:
      data_type: 'string'
      description: 'resample image to specified horizontal and vertical resolution'
      help: 'value is horizontalxvertical; see also https://imagemagick.org/script/command-line-options.php#resample'
    flatten:
      data_type: 'bool'
      default: false
      description: 'flatten multiple layers into one'
      help: 'see also https://imagemagick.org/script/command-line-options.php#flatten'
    colorspace:
      data_type: 'string'
      description: 'set the image colorspace'
      help: 'The converter will always convert to RGB before conversion in order for the conversions to work correctly.
          This option tells the converter what colorspace to convert the output image to.
          See also https://imagemagick.org/script/command-line-options.php#colorspace'
    profile:
      data_type: 'string'
      description: 'set the ICC profile of the output image'
      help: 'See also https://imagemagick.org/script/command-line-options.php#profile'
    delete_date:
      data_type: 'bool'
      default: false
      description: 'removes the modify-date and create-date image attributes from the output image'
- name: 'image watermarker'
  class_name: 'Libis::Format::Converter::ImageWatermarker'
  description: 'Adds a watermark to an image'
  input_formats: ['TIFF', 'JPG', 'PNG', 'BMP', 'GIF', 'PDF', 'JP2']
  output_formats: ['TIFF', 'JPG', 'PNG', 'BMP', 'GIF', 'PDF', 'JP2']
  parameters:
    quiet:
      data_type: 'bool'
      default: false
      description: 'suppress output'
    page:
      data_type: 'integer'
      description: 'the page to use for multi-page image formats'
    scale:
      data_type: 'string'
      description: 'minify / magnify the image'
      help: 'value should be a geometry value; see also https://imagemagick.org/script/command-line-options.php#scale'
    file:
      data_type: 'string'
      description: 'file name of a watermark image'
      help: 'supply the path to the watermark image relative to the configuration folder'
    text:
      data_type: 'string'
      default: 'Â© LIBIS'
      description: 'text to put on the watermark'
      help: 'will not be used unless the file parameter is empty'
    rotation:
      data_type: 'integer'
      default: 30
      description: 'rotation of the watermark text'
      help : 'the number represents the counter-clockwise rotation in degrees'
    tiles:
      data_type: 'integer'
      default: 4
      description: 'number of tiles of the watermark'
      help: 'The meaning of the number:\n
            - 0: no tiling, so only 1 watermark will be placed with the original size\n
            - 1: 1 tile, so the watermark will be scaled up to fill the image\n
            - n > 1: minimum n tiles in both directions\n
            - n < 0: tile without scaling the watermark'
    resize:
      data_type: 'float'
      default: 1.0
      description: 'resize the watermark image fraction 0.0 - 1.0'
    gap:
      data_type: 'float'
      default: 0.2
      description: 'size of the gap between watermark instances'
      help: 'The gap is expressed as a fraction expressed as percentage of width/height'
    gravity:
      data_type: 'string'
      default: 'Center'
      description: 'set the center point for the watermark overlay'
      help: 'See https://imagemagick.org/script/command-line-options.php#gravity for the allowed values.'
    composition:
      data_type: 'string'
      default: 'modulate'
      description: 'the image composition method for merging the watermark image'
      help: 'See https://imagemagick.org/script/compose.php for more information'
    composition_args:
      data_type: 'string'
      default: '10'
      description: 'the image composition method for merging the watermark image'
      help: 'See https://imagemagick.org/script/compose.php for more information'
- name: 'Image assembler'
  class_name: 'Libis::Format::Converter::ImageAssembler'
  description: 'Combines multiple images into one multipage file'
  input_formats: ['TIFF', 'JPG', 'PNG', 'BMP', 'GIF', 'PDF', 'JP2']
  output_formats: ['PDF', 'TIFF', 'GIF', 'PBM', 'PGM', 'PPM']
  parameters:
    quiet:
      data_type: 'bool'
      default: false
      description: 'suppress output'
- name: 'JPeg 2000 converter'
  class_name: 'Libis::Format::Converter::Jp2Converter'
  description: 'Convert images to JPEG 2000 format using j2kdriver'
  input_formats: ['TIFF', 'JPG', 'PNG', 'BMP', 'GIF', 'PDF']
  output_formats: ['JP2']
  parameters:
    color_xform:
      data_type: 'bool'
      default: true
      description: 'Perform color rotation from RBG to YUV color spaces if input image is in RGB format'
    error_resilience:
      data_type: 'string'
      default: 'ALL'
      description: 'Activates all error resilience features: start and end-of packet markers + segmentation symbols'
    lossless:
      data_type: 'boolean'
      default: true
      description: 'Activates lossless or lossy compression'
      help: 'This sets the configuration of the compression type and peak signal-to-noise ration like this:
      - lossless: xform=R53 5, ratio=0
      - lossy: xform=I97, psnr=46'
    progression_order:
      data_type: 'string'
      default: 'RLCP'
      description: 'Sets progression order'
    tile_size_width:
      data_type: 'integer'
      default: 1024
      description: 'Sets the width size of the tiles'
      help: 'preferably a power of 2'
    tile_size_height:
      data_type: 'integer'
      default: 1024
      description: 'Sets the height size of the tiles'
      help: 'preferably a power of 2'
    code_block_width:
      data_type: 'integer'
      default: 6
      description: 'Sets the width size of the code block'
      help: 'the block size will be the base 2 logarithm of the input value (2^x)'
    code_block_height:
      data_type: 'integer'
      default: 6
      description: 'Sets the height size of the code block'
      help: 'the block size will be the base 2 logarithm of the input value (2^x)'
